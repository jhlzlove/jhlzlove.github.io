---
title: Go
categories: go
music:
  server: netease
  type: song
  id: 373114
abbrlink: 7df91fee
---

Go 语言学习总结之浅尝辄止。

<!-- more -->

## 类型

数组，下标从0开始，数组的长度可由内置函数 len() 来确定，在声明数组时，未被赋值的元素的值是对应类型的零值。
声明方式:`var num [5]int`或者`var num [...]int`
无论使用那种方式声明数组，它的长度都是固定的，使用后一种声明的方式编译器会自动推算出数组的元素数量。

数组在 Go 语言中一般不作为函数的参数，一般使用 slice(切片) 作为函数的参数。

## 执行顺序

每一个go文件中都可以包含一个init()函数；它的执行要先于main()函数。
执行顺序：全局变量定义 > init函数 > main函数
如果一个文件引用了其它的文件，那么先执行引入的文件的全局变量定义，init函数，之后再按照上面的顺序执行自己内部的

先被 defer 的语句最后被执行，最后被 defer 的语句，最先被执行。

## 格式化输出

```go{.line-numbers}
%b 打印变量位数
%T 打印变量类型
%x 打印十六进制的数
%v 通用格式打印（类似占位符）
%+v 打印带字段名的参数
```

Go 语言的 int 和 uint 是针对不同的设备而优化的类型，在老的树莓派或其它老设备都是 32 位的；在比较新的设备上都是 64 位的。

所有的整数类型都有一个范围，超出范围就会发生环绕。环绕即再次从头开始，例如，-128~127，如果大于127，那么大于127的数就是-128.

Marshal 函数只会对 struct 中被导出的字段进行编码。

## 一般规范

在Go中，类型名一般使用 er 结尾。
Go中可以使用 type 关键字自定义类型。类型不能混用。
